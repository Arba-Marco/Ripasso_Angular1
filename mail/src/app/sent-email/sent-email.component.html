<style>
    /* Stili personalizzati per i bottoni */
    .btn-custom {
        background-color: #dc3545;
        border-color: #dc3545;
    }

    .btn-custom:hover {
        background-color: #c82333;
        border-color: #c82333;
    }
</style>

<div class="container mt-3">
    <!-- Titolo -->
    <h3 class="mb-3">Posta arrivata:</h3>
    <!-- Lista di email -->
    <ul class="list-group">
        <!-- Utilizzo di un ciclo *ngFor per iterare attraverso le email -->
        <li *ngFor="let email of emails; let $index = index" class="list-group-item" [style.background-color]="email.evidenziato ? '#ffff66' : '#ffffff'">
            <!-- Intestazione dell'email -->
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <!-- Oggetto dell'email -->
                    <strong>{{ email.oggetto }}</strong> - <span class="text-primary">{{ email.mittente }}</span>
                </div>
                <div>
                    <!-- Pulsante per espandere o contrarre l'email -->
                    <button class="btn btn-custom me-2 text-white" (click)="toggleEmail($index)">
                        {{ email.espansa ? 'Chiudi' : 'Espandi' }}
                    </button>
                    <!-- Pulsante per evidenziare l'email -->
                    <button *ngIf="email.espansa" class="btn btn-warning btn-sm" (click)="evidenziaSpeciale($index)">Preferiti</button>
                </div>
            </div>
            <!-- Contenuto espanso dell'email -->
            <div *ngIf="email.espansa" class="mt-2">
                <p><strong>Destinatario:</strong> {{ email.destinatario }}</p>
                <p><strong>Testo:</strong> {{ email.testo }}</p>
            </div>
        </li>
    </ul>
</div>
